<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Link Preview &amp; Open Graph Protocol | Last Ent's Thoughts</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://last-ent.com/posts/link-preview-open-graph-protocol/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<style>
.center {
  text-align: center;
}
</style>
<meta name="author" content="Ent">
<link rel="prev" href="../intuitive-map-flatmap/" title="FP for Sceptics: Intuitive guide to map/flatmap" type="text/html">
<link rel="next" href="../monte-carlo-method/" title="Monte Carlo Method" type="text/html">
<meta property="og:site_name" content="Last Ent's Thoughts">
<meta property="og:title" content="Link Preview &amp; Open Graph Protocol">
<meta property="og:url" content="https://last-ent.com/posts/link-preview-open-graph-protocol/">
<meta property="og:description" content="Notice how on posting a link on some sites or some messenger apps, a link preview shows up?
One might think the site/app crawls the webpage for this information but that's not the case. There is lot m">
<meta property="og:image" content="https://last-ent.com/images/ogp-logo.png">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-01-19T20:00:45+01:00">
<meta property="article:tag" content="software architecture">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="../../">

            <span id="blog-title">Last Ent's Thoughts</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav"></ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="../../pages/learning-targets" class="nav-link">Learning Targets</a>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Archives</a>
            <div class="dropdown-menu">
                    <a href="../../archive.html" class="dropdown-item">Archive</a>
                    <a href="../../categories/" class="dropdown-item">Tags</a>
            </div>
                </li>
<li class="nav-item">
<a href="../../pages/about" class="nav-link">About</a>
                </li>
<li class="nav-item">
<a href="https://ko-fi.com/D1D53GPBW" class="nav-link">Ko-fi Tip</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Link Preview &amp; Open Graph Protocol</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Ent
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2021-01-19T20:00:45+01:00" itemprop="datePublished" title="2021-01-19 20:00">2021-01-19 20:00</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Notice how on posting a link on some sites or some messenger apps, a link preview shows up?</p>
<p>One might think the site/app crawls the webpage for this information but that's not the case. There is lot more interesting tech at play here.</p>
<p>Simply put</p>
<blockquote>
<p>Open Graph Protocol</p>
</blockquote>
<p>Let's take a deeper look and answer three questions</p>
<ol>
<li>What is Open Graph Protocol?</li>
<li>How can I create custom link previews?</li>
<li>Can I create dynamic link previews?</li>
</ol>
<p>
<!-- TEASER_END -->
</p>
<hr>
<!-- Begin Mailchimp Signup Form --><div id="mc_embed_signup">
<form action="https://last-ent.us8.list-manage.com/subscribe/post?u=32b025ec5a4ac94d7ca217830&amp;id=eabef61e0c&amp;SIGNUP=mid" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<label for="mce-EMAIL">Interested in more posts like this?</label>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required><!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_32b025ec5a4ac94d7ca217830_eabef61e0c" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->
<hr>
<h2>Open Graph Protocol</h2>
<blockquote>
<p>What is Open Graph Protocol?</p>
</blockquote>
<p>Open Graph Protocol or <code>OGP</code> for short, was developed by Facebook for their website and as a universal standard to be used across the web.</p>
<p>This makes sense for Facebook; Otherwise the posts on the site would look quite drab. Thanks to <code>OGP</code> being an open standard designed to work with standard HTML it is easy to adopt for everyone and makes for interesting web links.</p>
<h3>In a nutshell</h3>
<p>The standard is pretty straightforward and can be found at <a href="https://ogp.me/">https://ogp.me/</a>.</p>
<p>For writing articles/blog posts the protocol is even smaller.</p>
<blockquote>
<p>It all starts with <code>&lt;meta&gt;</code> tags.</p>
</blockquote>
<p>Standard HTML has three main components</p>
<ul>
<li>
<code>&lt;html&gt; ... &lt;/html&gt;</code> tag which beings and ends a web page</li>
<li>
<code>&lt;head&gt; ... &lt;/head&gt;</code> tag which contains all metadata for the web page</li>
<li>
<code>&lt;body&gt; ... &lt;/body&gt;</code> tag which contains the actual content shown in browser</li>
</ul>
<p><code>head</code> &amp; <code>body</code> are nested inside <code>html</code> tag</p>
<pre class="code literal-block"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        ....
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        ...
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre>
<p>Though <code>&lt;head&gt; ... &lt;/head&gt;</code> is supposed to contain all metadata for the web page, the official way to add metadata to </p>
<p>According to the standard, the official way to add metadata to an HTML web page is by adding <code>&lt;meta&gt;</code> tags to <code>&lt;head&gt; ... &lt;/head&gt;</code> section.</p>
<h4>Required properties</h4>
<p>According to <code>OGP</code> standard, the absolute minimum required for a web page<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> are</p>
<ul>
<li>
<code>og:title</code> =&gt; Used as title of thumbnail</li>
<li>
<code>og:type</code> =&gt; Defines the type of webpage/"object". This can imply other fields are also required.</li>
<li>
<code>og:image</code> =&gt; Used for picture of thumbnail</li>
<li>
<code>og:url</code> =&gt; Canonical URL to be used as permanent ID.</li>
</ul>
<h4>Useful (optional) properties</h4>
<p>We can also add other properties to further enrich the webpage metadata but two stand out that (IMO) are worth mentioning.</p>
<ul>
<li>
<code>og:description</code> - One or two sentence description of the object</li>
<li>
<code>og:site_name</code> - If you have subdomains but want to show standard site name.</li>
</ul>
<h4>Blog Page Source</h4>
<p>If you view the source of this page, you will find following tags</p>
<pre class="code literal-block"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">prefix</span><span class="o">=</span><span class="s">"og: http://ogp.me/ns# article: http://ogp.me/ns/article# "</span> <span class="na">lang</span><span class="o">=</span><span class="s">"en"</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"author"</span> <span class="na">content</span><span class="o">=</span><span class="s">"Ent"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:site_name"</span> <span class="na">content</span><span class="o">=</span><span class="s">"Last Ent's Thoughts"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:title"</span> <span class="na">content</span><span class="o">=</span><span class="s">"Link Preview &amp;amp; Open Graph Protocol"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:url"</span> <span class="na">content</span><span class="o">=</span><span class="s">"https://last-ent.com/posts/link-preview-open-graph-protocol/"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:description"</span> <span class="na">content</span><span class="o">=</span><span class="s">"..."</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:type"</span> <span class="na">content</span><span class="o">=</span><span class="s">"article"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"article:published_time"</span> <span class="na">content</span><span class="o">=</span><span class="s">"2021-01-19T20:00:45+01:00"</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</pre>
<h3>Custom Link Previews</h3>
<blockquote>
<p>How can I create custom link previews? </p>
</blockquote>
<p>You create custom link previews in two simple steps:</p>
<ol>
<li>Adding <code>prefix</code> property to <code>html</code> tag</li>
<li>Adding required Open Graph <code>&lt;meta&gt;</code> tags (minimum)</li>
</ol>
<h4>Demo</h4>
<p>If you look at <a href="https://last-ent.com/ogp-demo.html">https://last-ent.com/ogp-demo.html</a>, you would see something like this</p>
<p><img alt="H1 Header: You should check the page source for interesting stuff." src="../../images/ogp-hello.png"></p>
<h4>Link Preview</h4>
<p>But link preview will show something else</p>
<p><img alt="Link preview shows the meta from page source" src="../../images/ogp-preview.png"></p>
<h4>Page Source</h4>
<p>Code for the link preview is in the <code>head</code> and you can see the <code>body</code> as well.</p>
<pre class="code literal-block"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">prefix</span><span class="o">=</span><span class="s">"og: http://ogp.me/ns# article: http://ogp.me/ns/article# "</span> <span class="na">lang</span><span class="o">=</span><span class="s">"en"</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"author"</span> <span class="na">content</span><span class="o">=</span><span class="s">"Ent"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:site_name"</span> <span class="na">content</span><span class="o">=</span><span class="s">"Last Ent's Thoughts"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:title"</span> <span class="na">content</span><span class="o">=</span><span class="s">"Open Graph Protocol Demo"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:url"</span> <span class="na">content</span><span class="o">=</span><span class="s">"https://last-ent.com/ogp-demo.html"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:description"</span> <span class="na">content</span><span class="o">=</span><span class="s">"View Page Source to see how to create these previews."</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:type"</span> <span class="na">content</span><span class="o">=</span><span class="s">"article"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"article:published_time"</span> <span class="na">content</span><span class="o">=</span><span class="s">"2021-01-19T20:00:45+01:00"</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>

  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span> You should check the page source for interesting stuff.<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre>
<p><em>If you don't know what <code>&lt;html prefix="..."&gt;</code> is about, read on.</em></p>
<h3>Object Type</h3>
<p>Object Type defines the kind of web resource the URL links to.</p>
<pre class="code literal-block"><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:type"</span> <span class="na">content</span><span class="o">=</span><span class="s">"XYZ"</span> <span class="p">/&gt;</span>
</pre>
<p>There are standard types and user-defined types. Before object types can be used, they have to defined in the namespace.</p>
<pre class="code literal-block"> <span class="p">&lt;</span><span class="nt">head</span> <span class="na">prefix</span><span class="o">=</span><span class="s">"my_namespace: https://example.com/ns#"</span><span class="p">&gt;</span>
 <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">property</span><span class="o">=</span><span class="s">"og:type"</span> <span class="na">content</span><span class="o">=</span><span class="s">"my_namespace:my_type"</span> <span class="p">/&gt;</span>
</pre>
<p>Object types can be grouped into "verticals". <code>OGP</code> namespace gives us a few to start with:</p>
<ul>
<li>Music</li>
<li>Video</li>
<li>No Vertical: <em>These don't have a neat category but are useful.</em><ul>
<li>article</li>
<li>book</li>
<li>profile</li>
<li>website. <em>This is the default if none of the others apply but still has to be added manually.</em>
</li>
</ul>
</li>
</ul>
<h2>Dynamic Link Previews</h2>
<blockquote>
<p>Can I create dynamic link previews?</p>
</blockquote>
<p>The answer depends on whether we are dealing with static website or a server side rendered website.</p>
<p><em>Server side rendered website</em>: When a link is requested, the server can inject any dynamic content it wants before sending the response, hence it is possible to have dynamic links.</p>
<p><em>Static Websites</em>: OTOH, static web pages would have to use JavaScript to add dynamic <code>&lt;meta&gt;</code> tags. Open Graph consumers are very unlikely to execute JavaScript as it serves no purpose. Hence Static websites can't have dynamic link previews.</p>
<p></p>
<hr>
<!-- Begin Mailchimp Signup Form --><div id="mc_embed_signup">
<form action="https://last-ent.us8.list-manage.com/subscribe/post?u=32b025ec5a4ac94d7ca217830&amp;id=eabef61e0c&amp;SIGNUP=End" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<label for="mce-EMAIL">Liked this and want more?</label>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required><!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_32b025ec5a4ac94d7ca217830_eabef61e0c" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>

</div>
<!--End mc_embed_signup-->
<hr>
<h2>Conclusion</h2>
<p>Hope you found this post useful and have better understanding of the marvels of modern web.</p>
<div class="footnote">
<hr>
<ol>
<li id="fn:1">
<p><em>As per Facebook</em>. Likely required for a web url to be registered by Facebook as a "graph object". I cannot comment (yet) on whether this is required by other services using the protocol. <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
</ol>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/software-architecture/" rel="tag">software architecture</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../intuitive-map-flatmap/" rel="prev" title="FP for Sceptics: Intuitive guide to map/flatmap">Previous post</a>
            </li>
            <li class="next">
                <a href="../monte-carlo-method/" rel="next" title="Monte Carlo Method">Next post</a>
            </li>
        </ul></nav></aside></article><!--End of body content--><footer id="footer"><div style="align-text: center">
<script type="text/javascript" src="https://ko-fi.com/widgets/widget_2.js"></script><script type="text/javascript">kofiwidget2.init('Support Me on Ko-fi', '#ff5f5f', 'D1D53GPBW');kofiwidget2.draw();</script>
</div>
<br>
Contents © 2022         <a href="https://github.com/last-ent">Ent</a>. Keep up to date with <a href="../../rss.xml">RSS feed</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>          
            
            
        </footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script><!-- <script src="http://localhost:8000/entlytics.js"></script> --><script src="https://last-ent.com/entlytics.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-148031816-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-148031816-1');
</script>
</body>
</html>
